## Examples

#### `api/test/did-doc`

Returns a did-doc for this server

```
curl -X GET http://localhost:8080/api/test/did-doc
```


#### `api/test/did-debug`

Returns all the details used for generating this did

```
curl -X GET http://localhost:8080/api/test/did-debug
```


#### `api/test/generate-did`

Returns a Long-Form did made from input public keys in jwk format

The body is a JSON object (note, this API requires a content-type header) with the following fields:
1. `recoveryPublicJwk` - **required** `ES256` public signing key jwk for did recovery operations
2. `updatePublicJwk` - **required** `ES256` public signing key jwk for did update operations
3. `signingPublicJwk` - **optional** `ES256` public signing key jwk for verifying assertions 
4. `encryptionPublicJwk` - **optional** public encryption key jwk using the `"alg": "ECDH-ES"` and `"enc": "A256GCM"` encryption algorithm
5. `domains` - **optional** array of string URI hostnames. Will be added to the did's `LinkedDomains` by an `add-services` action. 

**Note**: The `signingPublicJwk` and `encryptionPublicJwk` fields are optional since 
not all entities represented by DIDs may need to sign or encrypt documents.

For exmample, a `verifier` or `issuer` entity that does not request SIOP Responses to be encrypted MAY only need to have a signing key (for signing SIOP requests), and not an encryption key.

Example key props for signing keys:
```
{
    "kty": "EC",
    "crv": "P-256",
    "alg": 'ES256',
}
``` 

Example key props for encryption keys:
```
{
    "kty": "EC",
    "crv": "P-256",
    "alg": 'ECDH-ES',
}
``` 

```
curl -X POST http://localhost:8080/api/test/generate-did -H "Content-type: application/json" --data  '{"encryptionPublicJwk":{"kty":"EC","kid":"z49flT6UFYmMfXWw8lb04VaS9HCTfBXaL4iNXmSEfiA","alg":"ECDH-ES","crv":"P-256","x":"vpYxivWTfCc_7RFRoWlowE9Bhj1QJ1KMJZZRnjA8v2A","y":"TOpF9Z353L1ofFPfHN9yvwnwwqvt5r6MTo5U0hRQ2IA"},"recoveryPublicJwk":{"kty":"EC","kid":"nSsL1bSAv4ITBLSIVPbhpUaZ2XmSbCE7bGTtHa7P7qU","alg":"ES256","crv":"P-256","x":"OmY_lScH2hfKDs1Ui6sSXLI02t3nUeofxrwDbPprphg","y":"nS1e53B6W9jptHLWO23WB6QweV0uJab-00CwrXR4LX8"},"signingPublicJwk":{"kty":"EC","kid":"JFzMDjYivrfgPsT1b0puK3B_91G2e7QbAhVOUN7x_oM","alg":"ES256","crv":"P-256","x":"rAkPWQoZai50iSgCkBQ-eHR9O4L7edymIAUB1m9O6c8","y":"H-ulzimHfP-LyJYpPeIUoNguNs7jFfqaCncE6ZKkLUc"},"updatePublicJwk":{"kty":"EC","kid":"aKxtePqG-9Wgzr4fHuewge0x0Ud8zBpkQkeF5b42LBg","alg":"ES256","crv":"P-256","x":"OBgVHJdlOLdXxKiJLZCqnVGcAayUjJ5kl3pObdkjlaM","y":"fvZEpBy3U3eKCh8Z7m_jLigYStgkHEK3h1Rojse7qk0"},"customSuffix":"test"}'
```


#### `api/test/encrypt-for-did`

The body is a JSON object (note, this API requires a content-type header) with a `did` (to encrypt for) and a `payload` (content to encrypt)

If you supply an `encryptForKeyId` parameter like `"encryptForKeyId": "#encryption-key-1"`, this encryption key will be used from the DID doc. Otherwise, the first encryption key discovered in the DID doc will be used.

```
curl -X POST http://localhost:8080/api/test/encrypt-for-did -H "Content-type: application/json" --data '{"did": "did:ion:EiBgxnXZXnMtMrcZmQO4tgrOvHMbemTKba_TF191fNzhww:eyJkZWx0YSI6eyJwYXRjaGVzIjpbeyJhY3Rpb24iOiJhZGQtcHVibGljLWtleXMiLCJwdWJsaWNLZXlzIjpbeyJpZCI6InNpZ25pbmcta2V5LTEiLCJwdWJsaWNLZXlKd2siOnsiYWxnIjoiRVMyNTYiLCJjcnYiOiJQLTI1NiIsImt0eSI6IkVDIiwieCI6InJBa1BXUW9aYWk1MGlTZ0NrQlEtZUhSOU80TDdlZHltSUFVQjFtOU82YzgiLCJ5IjoiSC11bHppbUhmUC1MeUpZcFBlSVVvTmd1TnM3akZmcWFDbmNFNlpLa0xVYyJ9LCJwdXJwb3NlcyI6WyJhc3NlcnRpb25NZXRob2QiLCJhdXRoZW50aWNhdGlvbiJdLCJ0eXBlIjoiSnNvbldlYktleTIwMjAifSx7ImlkIjoiZW5jcnlwdGlvbi1rZXktMSIsInB1YmxpY0tleUp3ayI6eyJhbGciOiJFQ0RILUVTIiwiY3J2IjoiUC0yNTYiLCJrdHkiOiJFQyIsIngiOiJ2cFl4aXZXVGZDY183UkZSb1dsb3dFOUJoajFRSjFLTUpaWlJuakE4djJBIiwieSI6IlRPcEY5WjM1M0wxb2ZGUGZITjl5dndud3dxdnQ1cjZNVG81VTBoUlEySUEifSwicHVycG9zZXMiOlsiYXNzZXJ0aW9uTWV0aG9kIiwia2V5QWdyZWVtZW50Il0sInR5cGUiOiJKc29uV2ViS2V5MjAyMCJ9XX1dLCJ1cGRhdGVDb21taXRtZW50IjoiRWlDYzdfWDN3UGVHbWwwSDBiUTFzbFZkNENrQ2pETF9jV096RDdPa2JPTzFQQSJ9LCJzdWZmaXhEYXRhIjp7ImRlbHRhSGFzaCI6IkVpQ0dUQVVRb3JLVUxMZVl4TkI0R3NIRnpDWFZ4N2M0aFduQjhpVmI1R0Q5LUEiLCJyZWNvdmVyeUNvbW1pdG1lbnQiOiJFaUFQbVJEN0c5NE5yalpRNnZZWnNuM3o0R0pXTkpFYjY1eUlNUjUtWDk3dmJRIn19", "payload": "test"}'
```

```
curl -X POST http://localhost:8080/api/test/encrypt-for-did -H "Content-type: application/json" --data '{"did": "did:ion:EiBgxnXZXnMtMrcZmQO4tgrOvHMbemTKba_TF191fNzhww:eyJkZWx0YSI6eyJwYXRjaGVzIjpbeyJhY3Rpb24iOiJhZGQtcHVibGljLWtleXMiLCJwdWJsaWNLZXlzIjpbeyJpZCI6InNpZ25pbmcta2V5LTEiLCJwdWJsaWNLZXlKd2siOnsiYWxnIjoiRVMyNTYiLCJjcnYiOiJQLTI1NiIsImt0eSI6IkVDIiwieCI6InJBa1BXUW9aYWk1MGlTZ0NrQlEtZUhSOU80TDdlZHltSUFVQjFtOU82YzgiLCJ5IjoiSC11bHppbUhmUC1MeUpZcFBlSVVvTmd1TnM3akZmcWFDbmNFNlpLa0xVYyJ9LCJwdXJwb3NlcyI6WyJhc3NlcnRpb25NZXRob2QiLCJhdXRoZW50aWNhdGlvbiJdLCJ0eXBlIjoiSnNvbldlYktleTIwMjAifSx7ImlkIjoiZW5jcnlwdGlvbi1rZXktMSIsInB1YmxpY0tleUp3ayI6eyJhbGciOiJFQ0RILUVTIiwiY3J2IjoiUC0yNTYiLCJrdHkiOiJFQyIsIngiOiJ2cFl4aXZXVGZDY183UkZSb1dsb3dFOUJoajFRSjFLTUpaWlJuakE4djJBIiwieSI6IlRPcEY5WjM1M0wxb2ZGUGZITjl5dndud3dxdnQ1cjZNVG81VTBoUlEySUEifSwicHVycG9zZXMiOlsiYXNzZXJ0aW9uTWV0aG9kIiwia2V5QWdyZWVtZW50Il0sInR5cGUiOiJKc29uV2ViS2V5MjAyMCJ9XX1dLCJ1cGRhdGVDb21taXRtZW50IjoiRWlDYzdfWDN3UGVHbWwwSDBiUTFzbFZkNENrQ2pETF9jV096RDdPa2JPTzFQQSJ9LCJzdWZmaXhEYXRhIjp7ImRlbHRhSGFzaCI6IkVpQ0dUQVVRb3JLVUxMZVl4TkI0R3NIRnpDWFZ4N2M0aFduQjhpVmI1R0Q5LUEiLCJyZWNvdmVyeUNvbW1pdG1lbnQiOiJFaUFQbVJEN0c5NE5yalpRNnZZWnNuM3o0R0pXTkpFYjY1eUlNUjUtWDk3dmJRIn19", "payload": "test", "encryptForKeyId": "#encryption-key-1"}'
```

**TODO:** Create new JWS per sidetree updates 

#### `api/test/validate-jws`
The body is a JWS signed by the client

```
curl -X POST http://localhost:8080/api/test/validate-jws --data 'eyJraWQiOiJkaWQ6aW9uOkVpQWVzMFhRZlliaG9mTUFSQk80c1RjWjk0SWVNYTVCNFNCbFVrek9TMDRUNlE_LWlvbi1pbml0aWFsLXN0YXRlPWV5SmtaV3gwWVY5b1lYTm9Jam9pUldsQ1FUaENiV1V5TjJremIxYzFWbEJYVlhaYVlUSnpUSE40ZWpSUGNVVm9XRVpIZURReFoyOUNjV1F4UVNJc0luSmxZMjkyWlhKNVgyTnZiVzFwZEcxbGJuUWlPaUpGYVVGNGNsOXVSbVJoTlRKTFRIUlRRVzFtUkZKT2NVNWxkVlphTUdoRFpEWktZVGN0U0VscVZHTkJXSFpuSW4wLmV5SjFjR1JoZEdWZlkyOXRiV2wwYldWdWRDSTZJa1ZwUVhGSE5GZDJRbk5wWjFoWVZVbENZVmd0VDNSVWJteG5TREEyTmsxb1NWTkpWM0pKYmxCdmJIUXlNbEVpTENKd1lYUmphR1Z6SWpwYmV5SmhZM1JwYjI0aU9pSmhaR1F0Y0hWaWJHbGpMV3RsZVhNaUxDSndkV0pzYVdOZmEyVjVjeUk2VzNzaWFXUWlPaUp6YVdkdWFXNW5MV3RsZVMweElpd2ljSFZ5Y0c5elpTSTZXeUpuWlc1bGNtRnNJaXdpWVhWMGFDSmRMQ0owZVhCbElqb2lSV05rYzJGVFpXTndNalUyYXpGV1pYSnBabWxqWVhScGIyNUxaWGt5TURFNUlpd2lhbmRySWpwN0ltdDBlU0k2SWtWRElpd2lZM0oySWpvaWMyVmpjREkxTm1zeElpd2llQ0k2SW1neGNWQnlWRVpoUVZKbVR6QkZRa1pEZWtORE16aHFYek5aTW1kUVl5MW5PRE5SZWtKSFdXWXhNbXNpTENKNUlqb2lkRUV5VldKM2RsWnZaVTFvVm1Ka1YwZDZhVGgwWlY4NExYUkJTVFZhT1doMVVGcEZlbXBTY0RJeE1DSjlmU3g3SW1sa0lqb2laVzVqY25sd2RHbHZiaTFyWlhrdE1TSXNJbkIxY25CdmMyVWlPbHNpWjJWdVpYSmhiQ0lzSW1GMWRHZ2lYU3dpZEhsd1pTSTZJa3AzYzFabGNtbG1hV05oZEdsdmJrdGxlVEl3TWpBaUxDSnFkMnNpT25zaVpTSTZJa0ZSUVVJaUxDSnJkSGtpT2lKU1UwRWlMQ0p1SWpvaU1sWnlVR05ETjFsa1YxZHBRbG90VVRkTlMxZGtXbVpVV21kUlYyZE1YM0poY1daclh5MXBlbkJXZVZOdFIyUnBhak5rYzAxWFgxRjJZMFl6ZVhaQk9UWkhkVGMxZUZONFVYRkNha296WlRSUVVFUnJWamxSUzNoa01IWjNXVkprVkhad1kxSkJZVTgzVWxCYU9YWmxVSFZoUjIweWRXaFRlRkZXWkRSMmNtcEJXRU5hTTNscU5uUjFkRmwyWTFsbGFUbE5UM2RzUm10dGJteEtkMFZ1UTJab2JVSmZaMVZ2T1ZsdFJGRlVUbkJpYlU1d2VrWm1NREJVTXpSRkxWQTRYekpDT0VkeWJrZHZhVWhzU1ZaamRUQnlRbGd4Umw5R01XVndjRXRFVEhaaGFFVm1iekptVURocVprUnlRbE4wUkRoMGFtb3RVMHhFVjAxRldsSmxYMmwxWkdFelExSlpkSHBpT1V4d09FcDBNRU53WWkxYVpWRlZNVGxYT0U5clZGQTRXa0Z2VWtoMGVqSmhPVWxQUzJaemVEWXdjbFJyWkZSbFEzUk9jbVZ4V0VOQlptaDFYMVJoUXpkU2VXRlVZalpIVEhOM0luMTlYWDFkZlEjc2lnbmluZy1rZXktMSIsImFsZyI6IkVTMjU2SyJ9.eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSJdLCJ0eXBlIjpbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwiaHR0cHM6Ly9oZWFsdGh3YWxsZXQuY2FyZHMjY292aWQxOSIsImh0dHBzOi8vaGVhbHRod2FsbGV0LmNhcmRzI3ByZXNlbnRhdGlvbi1jb250ZXh0LW9ubGluZSJdLCJkaXNwbGF5IjoiQ09WSUQtMTkgQ2FyZCBmb3IgRXZlIEV2ZXJ5d29tYW4iLCJpc3MiOiJkaWQ6aW9uOkVpQWVzMFhRZlliaG9mTUFSQk80c1RjWjk0SWVNYTVCNFNCbFVrek9TMDRUNlE_LWlvbi1pbml0aWFsLXN0YXRlPWV5SmtaV3gwWVY5b1lYTm9Jam9pUldsQ1FUaENiV1V5TjJremIxYzFWbEJYVlhaYVlUSnpUSE40ZWpSUGNVVm9XRVpIZURReFoyOUNjV1F4UVNJc0luSmxZMjkyWlhKNVgyTnZiVzFwZEcxbGJuUWlPaUpGYVVGNGNsOXVSbVJoTlRKTFRIUlRRVzFtUkZKT2NVNWxkVlphTUdoRFpEWktZVGN0U0VscVZHTkJXSFpuSW4wLmV5SjFjR1JoZEdWZlkyOXRiV2wwYldWdWRDSTZJa1ZwUVhGSE5GZDJRbk5wWjFoWVZVbENZVmd0VDNSVWJteG5TREEyTmsxb1NWTkpWM0pKYmxCdmJIUXlNbEVpTENKd1lYUmphR1Z6SWpwYmV5SmhZM1JwYjI0aU9pSmhaR1F0Y0hWaWJHbGpMV3RsZVhNaUxDSndkV0pzYVdOZmEyVjVjeUk2VzNzaWFXUWlPaUp6YVdkdWFXNW5MV3RsZVMweElpd2ljSFZ5Y0c5elpTSTZXeUpuWlc1bGNtRnNJaXdpWVhWMGFDSmRMQ0owZVhCbElqb2lSV05rYzJGVFpXTndNalUyYXpGV1pYSnBabWxqWVhScGIyNUxaWGt5TURFNUlpd2lhbmRySWpwN0ltdDBlU0k2SWtWRElpd2lZM0oySWpvaWMyVmpjREkxTm1zeElpd2llQ0k2SW1neGNWQnlWRVpoUVZKbVR6QkZRa1pEZWtORE16aHFYek5aTW1kUVl5MW5PRE5SZWtKSFdXWXhNbXNpTENKNUlqb2lkRUV5VldKM2RsWnZaVTFvVm1Ka1YwZDZhVGgwWlY4NExYUkJTVFZhT1doMVVGcEZlbXBTY0RJeE1DSjlmU3g3SW1sa0lqb2laVzVqY25sd2RHbHZiaTFyWlhrdE1TSXNJbkIxY25CdmMyVWlPbHNpWjJWdVpYSmhiQ0lzSW1GMWRHZ2lYU3dpZEhsd1pTSTZJa3AzYzFabGNtbG1hV05oZEdsdmJrdGxlVEl3TWpBaUxDSnFkMnNpT25zaVpTSTZJa0ZSUVVJaUxDSnJkSGtpT2lKU1UwRWlMQ0p1SWpvaU1sWnlVR05ETjFsa1YxZHBRbG90VVRkTlMxZGtXbVpVV21kUlYyZE1YM0poY1daclh5MXBlbkJXZVZOdFIyUnBhak5rYzAxWFgxRjJZMFl6ZVhaQk9UWkhkVGMxZUZONFVYRkNha296WlRSUVVFUnJWamxSUzNoa01IWjNXVkprVkhad1kxSkJZVTgzVWxCYU9YWmxVSFZoUjIweWRXaFRlRkZXWkRSMmNtcEJXRU5hTTNscU5uUjFkRmwyWTFsbGFUbE5UM2RzUm10dGJteEtkMFZ1UTJab2JVSmZaMVZ2T1ZsdFJGRlVUbkJpYlU1d2VrWm1NREJVTXpSRkxWQTRYekpDT0VkeWJrZHZhVWhzU1ZaamRUQnlRbGd4Umw5R01XVndjRXRFVEhaaGFFVm1iekptVURocVprUnlRbE4wUkRoMGFtb3RVMHhFVjAxRldsSmxYMmwxWkdFelExSlpkSHBpT1V4d09FcDBNRU53WWkxYVpWRlZNVGxYT0U5clZGQTRXa0Z2VWtoMGVqSmhPVWxQUzJaemVEWXdjbFJyWkZSbFEzUk9jbVZ4V0VOQlptaDFYMVJoUXpkU2VXRlVZalpIVEhOM0luMTlYWDFkZlEiLCJuYmYiOiIyMDIwLTA2LTAxVDExOjU5OjAwLTA3OjAwIiwiaWF0IjoiMjAyMC0wNi0wMVQxMTo1OTowMC0wNzowMCIsInN1YiI6ImRpZDppb246RWlENjZ1Q3FtMXd1Q2dpdUg2cnVaSUY1S05ramR0LU9CVUk4bmRSTmphV3NQZz8taW9uLWluaXRpYWwtc3RhdGU9ZXlKa1pXeDBZVjlvWVhOb0lqb2lSV2xCWHkwME9GSnBjRnBpYTNKRlVrOXRRVWhTTTJ4VGJURktXVFUyYmsxRlZFYzBPV3hsZFVGM2FUTmtRU0lzSW5KbFkyOTJaWEo1WDJOdmJXMXBkRzFsYm5RaU9pSkZhVVJvVmxka1p6VlNabEJDYldkTU9UVndkbVppT1c4NGEzSjNVWEZ4UlRCSlVGZFBhRmxxTjNKTVVFeEJJbjAuZXlKMWNHUmhkR1ZmWTI5dGJXbDBiV1Z1ZENJNklrVnBRazFOTW1SeWVURlhVMmRwY0hKd09WZ3pNM0F4Y21KaldsTXlTVWxZTjFKR1l6VXhXR1ZXV1ZoelFuY2lMQ0p3WVhSamFHVnpJanBiZXlKaFkzUnBiMjRpT2lKaFpHUXRjSFZpYkdsakxXdGxlWE1pTENKd2RXSnNhV05mYTJWNWN5STZXM3NpYVdRaU9pSnphV2R1YVc1bkxXdGxlUzB4SWl3aWNIVnljRzl6WlNJNld5Sm5aVzVsY21Gc0lpd2lZWFYwYUNKZExDSjBlWEJsSWpvaVJXTmtjMkZUWldOd01qVTJhekZXWlhKcFptbGpZWFJwYjI1TFpYa3lNREU1SWl3aWFuZHJJanA3SW10MGVTSTZJa1ZESWl3aVkzSjJJam9pYzJWamNESTFObXN4SWl3aWVDSTZJbEJDYlV4eU5qVnBiWHBPYjJoVVh6TkRWeTFqYTNwelNEbHRYMU5FYjFRMVNsRk1XblZMV21kVlZuY2lMQ0o1SWpvaVlYRjBXaTFyVTFOS1pWVlFMVTlGWkZkTk1qaElNVzFyU0c5aGRraEJWbU5yVlVoWlVESlJSaTFOYXlKOWZTeDdJbWxrSWpvaVpXNWpjbmx3ZEdsdmJpMXJaWGt0TVNJc0luQjFjbkJ2YzJVaU9sc2laMlZ1WlhKaGJDSXNJbUYxZEdnaVhTd2lkSGx3WlNJNklrcDNjMVpsY21sbWFXTmhkR2x2Ymt0bGVUSXdNakFpTENKcWQyc2lPbnNpWVd4bklqb2lVbE5CTFU5QlJWQWlMQ0psSWpvaVFWRkJRaUlzSW1WNGRDSTZkSEoxWlN3aWEyVjVYMjl3Y3lJNld5SmxibU55ZVhCMElpd2lkM0poY0V0bGVTSmRMQ0pyZEhraU9pSlNVMEVpTENKdUlqb2lkMkYyUzFGSE5pMHdORzVtYkVSMFpGUldUa3Q2TmtwQ1NIRTVjemd0VUZCdFVXdERiM2xGTWpsM05uYzJhV2t6UVhJeE1uZGxOWG95UnpaNk1IQjZhM1o1WjAxMFlVRXlabE52WjBKbVRFUjZWSE5MYmpodE1rd3hXalpQYms5a1pHOUNTVjlEZERKa1YzQjFWek00U200NWNIZDVUa1oxUTNGTVpXSlJRbGRoYnpWMVFUUnRjRWxNY21GUlVuQmxaVWhMV0RKcVVsbENkVlZRUVdkR2VFMUpVSEl5YzA4MU1ub3dTamgxYTBKSFkxTkZOVUo1VGxkdGEyTTRORWh1UjNKb2FtVlNZa2xCTkZneldIVkpjSEV4VUU1ZloyZENjV05KWkhONWJuTkJWVlZIVWtSeVIzUnlabkF4ZFdRNVNGcG1PVmRsYTI1ZlluUTBhMVZwUm5wSVZuQm9OVjlzUzE4MGFsaHJNM1Z3YlVad1pHNVpNbWhKUzBnemNsQkNXRFJVZEVST1QyRmZiMHRzVkdSbWMwcFJUM05pTjFsaE5qQklTMWc1Wmw5M2RuUjVlR3B1UVVaVGVqbGpjalJRTFdzdGJVWjNJbjE5WFgxZGZRIiwibm9uY2UiOiJNZUhjYWgzU0ltdWswTlhmaXM4bVBnIiwidmMiOnsiZmhpclZlcnNpb24iOiIxLjAuMiIsImZoaXJCdW5kbGUiOnsicmVzb3VyY2VUeXBlIjoiQnVuZGxlIiwidHlwZSI6ImNvbGxlY3Rpb24iLCJlbnRyeSI6W3siZnVsbFVybCI6InVybjp1dWlkOjI2MjM5YTM4LTg0N2MtNDJlNy1hMmFiLTVjZTJmYmRjMzVkMyIsInJlc291cmNlIjp7InJlc291cmNlVHlwZSI6IlBhdGllbnQiLCJleHRlbnNpb24iOlt7InVybCI6Imh0dHBzOi8vZ2l0aHViLmNvbS9UcmFuc3BhcmVudEhlYWx0aC84MDAtNjMtMy10cnVzdG1hcmsjUCIsInZhbHVlQ29kZSI6IlAyIn1dLCJ0ZWxlY29tIjpbeyJzeXN0ZW0iOiJwaG9uZSIsInZhbHVlIjoiMDAwLTAwMC0wMDAwIiwidXNlIjoibW9iaWxlIn1dLCJuYW1lIjpbeyJmYW1pbHkiOlsiRXZlcnl3b21hbiJdLCJnaXZlbiI6WyJFdmUiXX1dfX0seyJmdWxsVXJsIjoidXJuOnV1aWQ6OWY1ZTU1ZWItOWFiNy00NzgwLTgzMTAtY2RiY2NjMjFkNDM4IiwicmVzb3VyY2UiOnsicmVzb3VyY2VUeXBlIjoiRGlhZ25vc3RpY1JlcG9ydCIsImVmZmVjdGl2ZURhdGVUaW1lIjoiMjAyMC0wNi0wMSIsInN1YmplY3QiOnsicmVmZXJlbmNlIjoidXJuOnV1aWQ6MjYyMzlhMzgtODQ3Yy00MmU3LWEyYWItNWNlMmZiZGMzNWQzIn0sInJlc3VsdCI6W3sicmVmZXJlbmNlIjoidXJuOnV1aWQ6OTExNzkxYzQtNTEzMS00NGJhLTg1YmQtOGU2YmRmNjUyZmQ0In0seyJyZWZlcmVuY2UiOiJ1cm46dXVpZDowNTkxMmQ2Ni0xZTAzLTRkZDEtOTFjZi1iNDc2OTMwNmM0MjIifV0sImNvbmNsdXNpb24iOiJQYXRpZW50IGhhcyBwYXNzZWQgdGhyb3VnaCB0aGUgYWN1dGUgcGhhc2Ugb2YgY292aWQtMTkgaW5mZWN0aW9uIGFzIG9mIE1heSAxLCAyMDIwIn19LHsiZnVsbFVybCI6InVybjp1dWlkOmMyZmRhYjllLTJiMzktNDEyNC1iODc1LWFhNzYxMWY0NTQwMyIsInJlc291cmNlIjp7InJlc291cmNlVHlwZSI6Ik9ic2VydmF0aW9uIiwiZWZmZWN0aXZlRGF0ZVRpbWUiOiIyMDIwLTA2LTAxIiwic3ViamVjdCI6eyJyZWZlcmVuY2UiOiJ1cm46dXVpZDoyNjIzOWEzOC04NDdjLTQyZTctYTJhYi01Y2UyZmJkYzM1ZDMifSwiY29kZSI6eyJjb2RpbmciOlt7InN5c3RlbSI6Imh0dHA6Ly9sb2luYy5vcmciLCJjb2RlIjoiOTQ1MDgtOSIsImRpc3BsYXkiOiJTQVJTIGNvcm9uYXZpcnVzIDIgSWdNIEFiIFtQcmVzZW5jZV0gaW4gU2VydW0gb3IgUGxhc21hIGJ5IFJhcGlkIGltbXVub2Fzc2F5In1dfSwidmFsdWVDb2RlYmxlQ29uY2VwdCI6eyJjb2RpbmciOlt7InN5c3RlbSI6Imh0dHA6Ly9sb2luYy5vcmciLCJjb2RlIjoiTEE2NTc3LTYiLCJkaXNwbGF5IjoiTmVnYXRpdmUifV19fX0seyJmdWxsVXJsIjoidXJuOnV1aWQ6YTc5ZjU0Y2UtNTJhMi00ZjQ4LTgwMGMtZThjMjI2NjI3M2IxIiwicmVzb3VyY2UiOnsicmVzb3VyY2VUeXBlIjoiT2JzZXJ2YXRpb24iLCJlZmZlY3RpdmVEYXRlVGltZSI6IjIwMjAtMDYtMDEiLCJzdWJqZWN0Ijp7InJlZmVyZW5jZSI6InVybjp1dWlkOjI2MjM5YTM4LTg0N2MtNDJlNy1hMmFiLTVjZTJmYmRjMzVkMyJ9LCJjb2RlIjp7ImNvZGluZyI6W3sic3lzdGVtIjoiaHR0cDovL2xvaW5jLm9yZyIsImNvZGUiOiI5NDUwNy0xIiwiZGlzcGxheSI6IlNBUlMgY29yb25hdmlydXMgMiBJZ0cgQWIgW1ByZXNlbmNlXSBpbiBTZXJ1bSBvciBQbGFzbWEgYnkgUmFwaWQgaW1tdW5vYXNzYXkifV19LCJ2YWx1ZUNvZGVhYmxlQ29uY2VwdCI6eyJjb2RpbmciOlt7InN5c3RlbSI6Imh0dHA6Ly9sb2luYy5vcmciLCJjb2RlIjoiTEE2NTc2LTgiLCJkaXNwbGF5IjoiUG9zaXRpdmUifV19fX1dfX19.TuXSyx7jw1WIGIhhNPTU4aqfjW6UwgC3tArX-Y5hZI0Fe6U9dY-39iKSgzqWkgYPkRtDj9ubOO5WfbwuYs24Sw'
```

**TODO:** Create new JWE per sidetree updates

#### `api/test/validate-jwe`

The body is a JWE encrypted to the server's encryption key

```
curl -X POST http://localhost:8080/api/test/validate-jwe --data 'eyJhbGciOiJSU0EtT0FFUCIsImVuYyI6IkExMjhDQkMtSFMyNTYifQ.6KiP6Fbhv7yOjP5-iV2JGltl3HJc1U1i4LU_kdHZzBrpw2LsSyyuhuSR8ZU0ZiD03p8bqBBYn2B4yTxsWBY7cwAfeUiX9XdvUYSImF26UxJMUX-Zvpx-H6_wD7gVlUbkoXCTUAyqtEe2Avv4_nJPygusEPvzRnNxoMlEXdVwwtnD-Hx40VvTJx3UMDJV-oiespcXRc38BUOo3vRgS5wnx8-uGKdZK-GlUV6T4PF3f7EDnVukVLjX1dCnAq2OLzEP4lfpfxGoPaEOUWpCxVIMULTWB_g7pNT0LxxqDVb5FM46_CWGGEhzkrU5s7INWGb-mD-jU6ze3FqaXmkDdXMS1g.C2E9yj8Rk31F-Owy6sZnuA.R7veJSc7oCLYnqf63eWJ_eYIAKaDRAnyQPEkHGhiUfgoM4QzAddicQm1Ru9FBovsmNEqRQb6mPYSKMayr3jWwfhNdQeVj_04YgnCFi83T0Ba5z5bXJ0LLh8btKGE14T07wJN6-yGE21nLaZnwXwfkotUZOeAVMGs4aEfbYC81jLgGtjYgqH8vNn7nLOtbCF2G2G8rmJx-j6zWln_rgHPm1beD4JTpEH7xEuliMWijOUkv-aI5PMb8vuGZnqWN3r1Un1zLIiufDC-6Aix2FL6ypBuRRfRMjtLd8rUexNxU0v0eFLkzYuCVnBE_Dh3_aW0c-nTGyP-osKGjdQ5seZc9ffwCGmXk3XSkcp9AErOAUvGNf9V4WrwmWQR0w3NKW1QO9Zo0Uq-8VbTh9KRDvVEwZ1L6ibhM4VU4sRf0N0XeY9QLNDZE5xrT_8HKNm6JRp73-1LWCjV1wMEebtGOc_Y8lIUnHdnGw-y75dDeyNobOVaZz_CtZ2uUKP0QPhGr4zLnusYx-l69u9sWuldJMGV7hyQWvRH4nKLYnUz9fRQE_pDBqa-PigxAE3q66NV84colhhMgQFjCld06-Xg-hsPcMHxEPVHqppAUQt-XrfL8cY48Xmv2Wg3eT3GkEaTW6U7xQ9Hy3DGTLfxIt0RPxPg_W7VX6sBMxgtY6t2ojG3iNz8JtYa1ih0O5tnuW9EPMNKU_Ji69uknJ1NS2QyqwmV_p4E-apmJ73JTHWrW2-mtdmqOupji_HQTvL33aDZes1_hebALcz5MvHomEjQu5SlP51yvY2dghYLEZwhnLad_mcZ53HHoAE_TPyDW_b8BPfblCfQey5Mn06fSod5PGft_U6L-RYR54R-sNStBUDW90kMNqzgDQxtXn_V2umVJyun1iFAB4h-AdL2nGMYyNCtmfi8ucgIz62XIaUkCwd3ho8rPuSS4MB3S_E8b6IaFlFKQl7xVpgDQ6ErhrzR9ozejT4KhpFBJ29zNgbYVBJcbAVCDuLgvjlS1ZzMsr8u2D3SSln6c-bXdyGE_g00V2fiTehZ8jaPDGhrA5g7dcHpfDq75igdeTonklKGzsjgQNnRBJMYx6MMCaDT5sF1z2JyKhp4FxeOf2MGLqYRzZrs_QwTv0jgTFb7ikL-PDrFrE0vHkBw-SDGv1R3OdCwrNNwvpw0RIn2-BO1T91l9M_Rry0D81_C2G5dGUVZxAqi0vFPr98kKEZJeab2cpNdyD_akgRt6ONORiJz84vuln_O2SNW7BzB0cY3X3iO7QLSLUfXduwQ8HXiLROvVbTE3mhw5soaAtA2IXJqMhMmYEJLYBQhb8S2iATvLd7VcR0OF_rIhfkLi1Dy-oiWJR_DzYk6zDRcZrd_tuzagjjvDPxzZkk6bZCwVC2QJtI0KZVcQzf929ESH4IWgJN0SIGMIF840oXaiA5V6gWuZ8LHy5WXyEQYBWzCDwznoAaLdzin3Y9Z3UBcw9QhvWqrYrJB4wMOkOakwpLTK0EsE0OemZ_GlpBnxRaxIP2DgP3MAGP74IsItRzBGyLrfQUhutHZHbLeaE9SiSR3z-NVOoXTWxvOC8keqsBpBuYkrvVKHiHdQZDL6nvRQIq8T_PrhtsT_5uqyznff38CUsrvFFO4Vt5sZXHyow8mPX-iEU7EbBa0KJq-xg6hV6h6otskEKuUe6tqB0REu_qoUz9S4YQZEVuLjvIi_VCBIbkJytLK7x8fZsbb_f9XQtWeoKgF-5PanQJrQKGmoL8OvIGSUgBHwnNbee6-rqPQV76-mdkJ_DOgbzY0uNVaED7EmtF5u6jqCdU2vOdaD6X3WilRXfNbQCkNM7V7w9gyQMRQ-8HoREa2Hx3ZMuU7Rud841Xie4hnB-ARpBuHmIvrhFOwrXnDHzlyG0dm8stb1w2D9fXBAkekQovL6f1P_KsCKA-H_B3mv7k_WCb_Nxl4dH3-BFDEQP5AKjKEeXbKtT7zlPoz1O18Uu57F6SPfJtJeEdAwSdF2mrV1LGq8-Z5aJwkk-aXQUwlBCO-LGbTPY61eJ_pDQaZIfprt1ISl_JGyucfHaoW3Oh6NTg_rTxMo0cKzfDbCZgjDmrirY5PNSMlKG1RGPwaWz_N9HaUlNXdsjXsEE37nmu71hmqDNdFJUvImX2xf4JzcEI9FtYF8YI2puS0RK4zxi5iF_yXf44H3IiJ1Z5FzCKVCOdAZnD6DySe748RIREx_CaAiRHkPr91LHDAq2J7go1oxCT-Z-PIIc1-m7fDttcx8Jg-bO5gXgxqS94jiJFq4xxkYeOvcmCyCDAUdv_YPQLsUsqPgB9qz3uF51rRjaDJWknh1LQNKpiyeKaMFMunkhhQs_tpE6i6E0q_PMg7nRNUOpIJ-19tbiPtmikRUjmyXBNwpI-rE25wU1AkhL3x2ppTG5StLfDsxx308m0m_KbKF1GDv1HMeFcxFlVCA98h7AO9IixlhCXofOt7ptwACpxYQZCyrbDHKa3szCLRGhONeUS30JcuM9CMCo2TpoUXDdoZy6or5BAI6BW5zBgvACbDGdvYWP-wbipDjLAXXnsEh5p1wP93Yim7Rp6VgLK0UYMSSGleOJgRRVB5kPPmtU8BTL3xif2j-HXqxfH4dvNXDPXhicP3WTR4TM59QW2asa8b9Q3nE_RdjZwnkzYK6-_AFMk1mb87YSmLlNDdtkMs4J8_AJTzo4oXGMER1n-Eyh8lu4GBRH6QxRthNASsVjuTif2rYTeeEHxFBIHQ4dJgoC35o3o9NO57K5gMstrxDWjxHTSrmfbsAmwzWgfL07eZcDyWe1EKvnth0b97wwPbjH6JGBT2kZGKz0Q0df82ldQG5e0Zq-0KvVE8lWF-HdVi5onSbNClCIkITgKFdRqZvs2XhsQduEHZ7ldknL3rZAkVNE1m7GqOB1iaCBawVphVxe6y-uVE5srXKbYFw9ilZFjm2XBQIDNMCf8f4mfwlr6YhtQKIoZkjFlE3HqnLGL8BEsPGRjYv4pb_I9Sl0gmPEHIgGs_VY0ysHZmzyOj8Baq-DoamwzZ_lS3EMnnnTrwM281X1dCsSGR-ycuvlOmBczgN09Rl2wgGuM9AcjYPZuIMdDYklYNa3xgKvEBBBcvukLtuWyTuvLr0RNW5cVBundXjQI84UY-35yRfuGtYNRh3yGDC-07pTyFvMps5GH3jrJUQbyYHhq2IbAKu-myxW0GPNu1Gh67AclWy6Ei24Ub_TtbYkYzIqJkVhSxkeQNyXnGLOVBun6ZOGCUJD1sRJDab1j5y3vtAV9vDIIpSz4HQkhYS38eqIQhOK28m4if2bh7jInr3FqGd33QZIevOH3hr0u_KKfKywUYsmiNlyt6dva2inzPkRR8u2VAMPzJelx_QdT2CTg0fjYVJlHybz5r6fdGMiK19ejwuzMkXQ7HR0XIiLh0CCt5JCAyiWLXfJVpnY_GoetnI4P0NISGsE5JdwRwfRYpkbWzg2oQ0OACPnSRfB6YBWTq3Nf9_G2mDipsTK22HY0JXBhX8Oe4_rVBaBeqJAGRqhhNzcYYxx3Fzqko7xHnO3LTSzr6abFr5ytAgyVqse38mtSq6EzMrTBU3mBxrTef6ZrakB0P31xTwRZ8ZTbaOWJdEKgCJSZKobyhtiLMFu4ePPabQK44E1FgYvWt0MlvMaOQuoO_dAqo6YBzodAcey9o-yO4DHL0JqoI29yR4x8mkBRVMzTWlhljijLvxtkJsSra6RpDAMvVj1kN3QHr-OuDNOATeXJ-AJhO5U6GGS3Kf1Z_eyUjxFCPtalyezCYXRwBYoEUTse5y374h8d2R6JLcuNvp8bzF3X3JZew6PhAhXdqpGRAJUuCXIe4ugxgRzop3Oxvtt8QeyPWdLr6ikYB33zQhqZfZeRRl-ZUTDZkGBXXR97xDbpHR2eYWP_EC9F6A_T6FTdDocIcaHYzBI6UudXrGQizBZKUI0zi8KqiU6mmZxvWWl-ZqRSdmsYCW1bpbincRyxWcZGhbRPJ9DEgiDbz_VHZfbsgEwRkdTYzSNK3AyXP2HC0t9ni1Dv-nQzul6WiL4AZnM74pXgD0_p8UzlDPB6zIh_W-u2lhZ-MJulDq5ji115-KAyMPYe16OH6T5jdABMQX8VyXHyZvDNpD62Ijcsri7gNKFl3vYNIEJdoqStPLwMtaCZkku_jQmXfi-fJZN2zthfKzkKgu1NHzHnS270zW6Ko-togju4eS5IZikATeTyYDVmOZpH3DRDGr2aN0Wl9hIsUZArBmD4_eXW4SlWYxsWLUghYopI2DXTdgj0u1QXOKbteuPwG-sg4PCRZGI0z62Jd27s1vsFpECdZw54Aqk7kdSj7ZmNapv-Ya5Hbj7NNWpUAH-QgAh2FalNZ5EfK-swp-AosyLFFWKY3lueeaJQYvVoJ8-OOJF4Vik8AfD8Pfsx5AIwtFOJldmnrREETCdNP98D34-FcHBQ-SUkUP3wd7pXVtfnOHQwhkzCcRjIBdKbQmZVPvHzQ_YjuId5_aG4qJz7Sy7nYTNT-DvnpEwBt9p3LviogDAmmPLyvhE5vG29bdVz_-Ja2FSJRC6J2dcvbhNyKpsq3X9yrIzQi_G1zXTxifrHYdDHo3PgNl4fS8wAY_CG0erTOvoZ539Rj7m0F1d9aEEzhPSq_lmJTv7Wend_VSkq1CVL7ZdHWH-7wUn1ekIDcjjtrU7V9SemRhyA86lNnbkKloO7of1zIGIa3eCSh-T8Nrq4nUCPplHY-BJ1ct24_9z3qA35dpvVNPYPbw2yC5RG3b-ySGlmiXMqOUthGdoX4Nv5n4zYjbo8iFw3rK-puHXZ1OYJ-NGwbrUBog3EFGwxYryVmAx-Ihb_N6Y9eQM3Qm60zmPOI-NV1pMbT_LtxNMlux_qqIeHgdunxuc8fJd6VtsUzljLZWBv4HuIng2IwdOVQiN1F125-gPTrRBEu5tvRB7OtXNql2PLia9QXFR1QtZiu9EZN4yDLhJuuUHJN5ADhwd2RSbwa7c9bj6EewZ84rBuMvP-ZEfkMgOvygdSHNlq2WJYupYcRRodF0zmDNPrqX7jpSGzTqro5TdRrK02ZA_bPSpkBaSsxy44pj7XrqDw-QHMBz5T_Q3g_I5ioZ9gE_sYQlDmKZQQUY1WzpdY6Jyd4UghFveasTwk4z9angkLZefMG3OYwZxwBs_FEPNPmhw3Jc8kC2KNYD2qdpF-EXCDu54x5Lik548fIynIrJDN15XXxNWDXViOVUfBpx3qNNM7-69MnG6qNLjx4jnGL1uErCL_duB_1ZmSP2-UvKg4CeZTUZDsLezGdxK0_ywMnhcbS4KaHEs5Peu0jtsfQJeGYurglLygfSfHoulx7rsrdPSwCjwe00L1H2UnbIxU7i3-1GRNFeLeFxx_yKuGSkpieZugYO274yUw2RBAVMCqYNeS9CWWVofR0Y49CXSV9rb3DYryb_TUXVLQGAumrSefEdLmH8O6pX_GKquwP0u2Hr7BX5tjAgwgg8nH_YiCxIdyDv25sLXfPOeBW_leSpVwSmqxVqlnpAvlM4k6R4KcgPLJU_vvFIShpuDiZSr_f0j59FrVRoWaHX2EtZcZLnC33BQ.iCZc48jWhBBctACS0hZ67g'
```
